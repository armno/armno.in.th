---
import PageLayout from '@layouts/PageLayout.astro';
const content = {
  title: 'Blog'
}

interface MarkdownFrontmatter {
  title: string;
  date: Date;
  url: string;
}

let allPosts = Astro.fetchContent<MarkdownFrontmatter>('./**/*.md');
allPosts.sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf());
---

<PageLayout {content}>
  <h1>Blog</h1>

  <ol>
    {allPosts.map(post => <li><a href={post.url}>{post.title}</a></li>)}
  </ol>
</PageLayout>
