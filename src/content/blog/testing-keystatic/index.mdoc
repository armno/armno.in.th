---
title: Testing Keystatic
pubDate: '2024-01-01T00:00:00.000Z'
description: alright let's see
published: true
thumbnail: /public/images/testing-keystatic/thumbnail.jpg
---
will Keystatic work for me?

so, okay.

- ~~the post must be a~~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ~~`slug.mdoc`~~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ~~file, not~~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ~~`slug/index.mdoc`~~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ~~file.~~ not true. it can be in its own folder with proper config below.
- `image` in keystatic config must be updated with to keep the images in the same folder with the post mdoc file.

```js
images: {
  directory: 'src/content/blog',
  publicPath: '../../../content/blog/',
},
```

![](../../../content/blog/testing-keystatic/dummy-image.png)

- Post thumbnail: can be uploaded in Keystatic, but now got a problem to use it with Astro's `<Image>` component. The `src` contains just a file name. It also lives inside the `src/content/` folder, meaning it must be imported in JS to use with `src` prop of the Image component.
  - ~~TODO: check the doc for~~  ~~`field.image`~~  ~~config and see if we can set the image's directory (only thumbnails) to be in the public folder instead.~~
  - There we go! this can be done in the `field.image` config.

```java
thumbnail: fields.image({
  label: 'Thumbnail',
  directory: 'public/images',
  publicPath: '/public/images',
}),
```

- When the thumbnail is selected, it creates `thumbnail: /public/images/testing-keystatic/thumbnail.png` in the frontmatter of the post. ü§ù
